(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],[,,,function(t,e,n){t.exports={"buttons-container":"button_buttons-container__1955V","button-container":"button_button-container__39fQB","tetris-button":"button_tetris-button__eItG2","tetris-option-button":"button_tetris-option-button__3Kl3U","tetris-button__active":"button_tetris-button__active__26vlf","tetris-option-button__active":"button_tetris-option-button__active__1vvTZ","tetris-button__dark":"button_tetris-button__dark__2RK1f","tetris-button__dark__active":"button_tetris-button__dark__active__1fMOD","tetris-option-button__dark":"button_tetris-option-button__dark__1HGSl","tetris-option-button__dark__active":"button_tetris-option-button__dark__active__W25rR"}},,function(t,e,n){t.exports={"canvas-container":"field_canvas-container__1U1ww","canvas-container__dark":"field_canvas-container__dark__2GoQP","canvas-container__light":"field_canvas-container__light__25KvA",text:"field_text__504n6"}},,,,,,,function(t,e,n){t.exports={"tetris-container":"game_tetris-container__2gHB5","tetris-container__light":"game_tetris-container__light__11ybi","tetris-container__dark":"game_tetris-container__dark__3bHhN"}},,,function(t,e,n){t.exports={"info-column":"info_info-column__2XUG0",info:"info_info__3GloF"}},,function(t,e,n){t.exports={"display-container":"display_display-container__NotnD"}},,function(t,e,n){t.exports=n(31)},,,,,function(t,e,n){},function(t,e,n){},,,,,,function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(10),c=n.n(a),i=(n(24),n(25),n(12)),u=n.n(i),s=n(17),l=n.n(s),f=n(2),p={I:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],J:[[0,2,0],[0,2,0],[2,2,0]],L:[[0,3,0],[0,3,0],[0,3,3]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0],[0,0,0]],T:[[0,0,0],[6,6,6],[0,6,0]],Z:[[7,7,0],[0,7,7],[0,0,0]]},d=["rgba(255, 255, 255, 1)","rgba(0, 243, 255, 1)","rgba(0, 90, 255, 1)","rgba(255, 118, 0, 1)","rgba(255, 247, 0, 1)","rgba(0, 255, 102, 1)","rgba(133, 0, 255, 1)","rgba(255, 0, 0, 1)"],v="GAME OVER",b=4,g={I:[3,b-4],J:[3,b-3],L:[3,b-3],O:[4,b-2],S:[3,b-3],T:[3,b-3],Z:[3,b-3]},O="GAME_PAUSED",m="NOT_STARTED",h={shape:p.I,position:g.I},y=window.devicePixelRatio,_=n(4),w=n(9);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(n,!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S=function(t){return Math.min.apply(Math,Object(w.a)(t.map((function(t){return~(e=t).findIndex((function(t){return t}))?e.findIndex((function(t){return t})):e.length-1;var e}))))},k=function(t){return Math.max.apply(Math,Object(w.a)(t.map((function(t){return t.reduce((function(t,e,n){return e?n:t}),0)}))))},P=function(t){return Math.max.apply(Math,Object(w.a)(t.map((function(t,e){return t.reduce((function(t,n){return n?e:t}),0)}))))},x=function(t,e){for(var n=e.shape,r=e.position,o=Object(f.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(c+P(n)>=19+b||t[i+c+1]&&t[i+c+1][u+a]))return!1;return!0},R=function(t,e,n){return t>e&&t<n},D=function(t,e,n){return t.map((function(t,r){return t.map((function(t,o){return R(r,n[1]-1,n[1]+e.length)&&R(o,n[0]-1,n[0]+e[r-n[1]].length)&&e[r-n[1]][o-n[0]]?e[r-n[1]][o-n[0]]:t}))}))},T=function(t,e){for(var n=e.shape,r=e.position,o=Object(f.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+S(n)<0||a+k(n)>9||c+P(n)>=20+b||t[i+c]&&t[i+c][u+a]))return!0;return!1},A=function(t){return t.reduce((function(t,e){return e.filter((function(t){return t})).length?++t:t}),0)},M=function(t){var e=t.score,n=t.level;switch(t.lines){case 1:return e+40*(n+1);case 2:return e+100*(n+1);case 3:return e+300*(n+1);case 4:return e+1200*(n+1);default:return e}},L=function(){return Object(w.a)("IJLOSTZ").sort((function(){return Math.round(2*Math.random()-1)}))},C=function(){var t=0,e=L();return function(){var n=e[t];return++t>6&&(t=0,e=L()),{shape:p[n],position:g[n],locked:!1}}}(),N=function(t){return Math.min(Math.ceil(t/10),15)},I=function(t){return Math.round(1e3*Math.pow(.8-.007*(t-1),t-1)*1e5)/1e5},W=function(){var t={},e={},n=function(n,o){r(n),t[n]=setTimeout(n,o),e[n]={start:(new Date).getTime(),paused:!1,wait:o}},r=function(n){t[n]&&(clearTimeout(t[n]),delete t[n],delete e[n])},o=function(n){return t[n]&&e[n]&&e[n].paused};return{set:n,clear:r,pause:function(n){if(t[n]&&!o(n)){clearTimeout(t[n]);var r=(new Date).getTime(),a=e[n].wait-(r-e[n].start);e[n]={start:r,wait:a,paused:!0}}},resume:function(r){t[r]&&o(r)&&n(r,e[r].wait)}}}(),B=function(){var t={},e={},n={},r=function(n,r){o(n),t[n]=setInterval((function(){n(),e[n]={start:(new Date).getTime(),paused:!1,ms:r,wait:0}}),r),e[n]={start:(new Date).getTime(),paused:!1,ms:r,wait:0}},o=function(r){t[r]&&(clearInterval(t[r]),clearTimeout(n[r]),delete t[r],delete e[r])},a=function(n){return t[n]&&e[n]&&e[n].paused};return{set:r,clear:o,pause:function(r){if(t[r]&&!a(r)){clearInterval(t[r]),clearTimeout(n[r]);var o=(new Date).getTime(),c=e[r].ms-(o-e[r].start);e[r]=j({},e[r],{start:o,wait:c,paused:!0})}},resume:function(o){t[o]&&a(o)&&(n[o]=setTimeout((function(){o(),r(o,e[o].ms)}),e[o].wait))}}}(),G=function(t){return d[t.reduce((function(t,e){return t||e.reduce((function(t,e){return e||t}),0)}),0)]},U=function(t,e){return t.split("(").map((function(t,n){return n?t.split(", ").map((function(t,n,r){return n<r.length-1?Math.max(Math.min(255,Math.floor(t*(100-e)/100)),0):t})).join(", "):t})).join("(")},K=function(t,e){return t.split("(").map((function(t,n){return n?t.split(", ").map((function(t,n,r){return n<r.length-1?Math.max(Math.min(255,Math.floor((255-t)*e/100+ +t)),0):t})).join(", "):t})).join("(")},H=function(t,e){for(;x(t,e);){var n=e.position;e=j({},e,{position:[n[0],n[1]+1]})}return e};function V(t){var e=t.ctx,n=t.side,r=t.position,o=t.color,a=t.locked,c=void 0!==a&&a,i=t.ghost,u=void 0!==i&&i,s=Object(f.a)(r,2),l=s[0],p=s[1];if(u)e.beginPath(),e.strokeStyle="#858fa5",e.lineWidth=2*y,e.rect(l+2*y,p+2*y,n-4*y,n-4*y),e.stroke(),e.closePath();else{var d=e.createLinearGradient(l,p,l+n,p+n),v=c?K(o,75):o,b=c?K(o,25):U(o,35);d.addColorStop(0,v),d.addColorStop(.5,v),d.addColorStop(.5,b),d.addColorStop(1,b),e.beginPath(),e.fillStyle=d,e.fillRect(l+1*y,p+1*y,n-2*y,n-2*y),e.closePath()}}function z(t){var e=t.block,n=t.ctx,r=t.side,o=t.startingRow,a=void 0===o?b:o,c=t.offset,i=void 0===c?[0,0]:c,u=t.ghost,s=void 0!==u&&u;if(e){var l=e.shape,p=e.position,d=e.locked,v=Object(f.a)(p,2),g=v[0],O=v[1],m=G(l);l.forEach((function(t,e){return t.forEach((function(t,o){if(t){var c=[g*r+o*r+i[0],O*r+(e-a)*r+i[1]];V({ctx:n,side:r,position:c,color:m,locked:d,ghost:s})}}))}))}}var J=n(1),X=function(t){return t.activeBlock},Y=function(t){return t.field},Z=function(t){return t.gameState.level},F=function(t){return t.gameState.score},q=function(t){return t.highScore},Q=function(t){return t.gameState.lines},$=function(t){return t.gameState},tt=function(t){return $(t).speed},et=function(t){return t.nextBlock},nt=function(t){return H(Y(t),X(t))};var rt=n(5),ot=n.n(rt);function at(t){var e=t.ctx,n=t.size,r=t.position,o=t.color,a=t.text,c=Object(f.a)(r,2),i=c[0],u=c[1];e.textAlign="center",e.lineWidth=3*y,e.font="".concat(n*y,"px monospace"),e.strikeStyle="black",e.strokeText(a,i,u,190*y),e.fillStyle=o,e.fillText(a,i,u,190*y)}function ct(){var t=200*y,e=400*y,n=20*y,a=Object(r.useRef)(null),c=Object(J.c)((function(t){return{block:X(t),field:Y(t),ghostBlock:nt(t),gameState:$(t),highScore:q(t),score:F(t)}})),i=c.block,u=c.field,s=c.ghostBlock,l=c.gameState,f=c.highScore,p=c.score,g=l.status;return Object(r.useEffect)((function(){var r=a.current.getContext("2d");console.log("PIXEL RATIO",y),r.pixelRatio=y;var o=[u[0].length*n/2,(u.length-b-5)/2*n],c=[u[0].length*n/2,(u.length-b)/2*n];g===m?(r.clearRect(0,0,t,e),f.reduce((function(t,e,n){return e?t.concat(at({ctx:r,size:20,position:[o[0],o[1]+30*y*(n+2)],color:"#eaeaea",text:"".concat(n+1,": ").concat(e)})):t}),[]).length&&at({ctx:r,size:20,position:[o[0],o[1]+30*y],color:"#eaeaea",text:"HIGH SCORES:"}),at({ctx:r,size:30,position:o,color:"#eaeaea",text:"PRESS START"})):g===O?(r.clearRect(0,0,t,e),at({ctx:r,size:30,position:c,color:"#eaeaea",text:"PAUSED"})):(r.clearRect(0,0,t,e),function(t){var e=t.field,n=t.ctx,r=t.side;e.forEach((function(t,o){o>b-1&&t.forEach((function(t,a){if(t){var c=[a*r,(o-b)*r],i=d[e[o][a]];V({ctx:n,side:r,position:c,color:i})}}))}))}({field:u,ctx:r,side:n}),z({block:s,ctx:r,side:n,ghost:!0}),z({block:i,ctx:r,side:n}),g===v&&(at({ctx:r,size:30,position:c,color:"#eaeaea",text:"GAME OVER"}),f.includes(p)&&at({ctx:r,size:30,position:[c[0],c[1]+40],color:"#eaeaea",text:"NEW HIGH SCORE!"})))}),[i,u,g,f]),o.a.createElement("div",{className:"".concat(ot.a["canvas-container"]," ").concat(ot.a["canvas-container__dark"]),style:{maxHeight:400}},o.a.createElement("canvas",{ref:a,width:t,height:e,style:{width:t/y,height:e/y}}))}function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var ut=Object(r.memo)((function(){var t=Object(J.c)((function(t){return et(t)})),e=t.shape,n=20*y,a=100*y,c=100*y,i=[Math.floor((a-e[0].length*n)/2),Math.floor((c-e.length*n)/2)],u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(n,!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{position:[0,0]}),s=Object(r.useRef)();return Object(r.useEffect)((function(){var t=s.current.getContext("2d");t.clearRect(0,0,a,c),z({block:u,ctx:t,side:n,startingRow:0,offset:i})}),[u,i,a,c,n]),o.a.createElement("div",{className:"".concat(ot.a["canvas-container"]," ").concat(ot.a["canvas-container__dark"])},o.a.createElement("div",{className:ot.a.text},"Next block"),o.a.createElement("canvas",{ref:s,width:a,height:c,style:{width:a/y,height:c/y}}))})),st=function(){return(new Date).getTime()};var lt="MERGE",ft=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],pt=function(t){return{type:lt,payload:t}};function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(n,!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var bt="START",gt="DEFEAT",Ot="PAUSE",mt="RESUME",ht="RESET",yt="TOGGLE_PAUSE",_t={status:m,lastAction:null,level:1,score:0,lines:0,speed:1e3},wt=function(){return{type:yt}},Et=function(){return{type:ht}},jt=function(){return{type:Ot}},St=n(15),kt=n.n(St);var Pt=Object(r.memo)((function(){var t=Object(J.c)((function(t){return{level:Z(t),score:F(t),lines:Q(t),gameState:$(t)}})),e=t.level,n=t.score,a=t.lines,c=t.gameState,i=c.lastAction,u=Object(r.useState)(0),s=Object(f.a)(u,2),l=s[0],p=s[1],d=function(t,e){var n=Object(r.useState)(0),o=Object(f.a)(n,2),a=o[0],c=o[1],i=Object(r.useState)(st()),u=Object(f.a)(i,2),s=u[0],l=u[1],p=Object(r.useState)(!0),d=Object(f.a)(p,2),v=d[0],b=d[1],g=Object(r.useRef)();return Object(r.useEffect)((function(){g.current=t}),[t]),Object(r.useEffect)((function(){var t=setInterval((function(){g.current(),c(0),l(st())}),a||e);return v&&clearInterval(t),function(){clearInterval(t)}}),[e,v,a]),{start:function(){l(st()),b(!1)},pause:function(){b(!0),c(e-(st()-s)),l(st())},resume:function(){v&&(b(!1),l(st()))},reset:function(){b(!1),c(e),l(st())}}}(Object(r.useCallback)((function(){p((function(t){return t+1}))}),[]),1e3),v=d.start,b=d.pause,g=d.resume,O=d.reset;return Object(r.useEffect)((function(){i===bt&&v(),i===ht&&(O(),p(0)),i!==Ot&&i!==gt||b(),i===mt&&g()}),[c]),o.a.createElement("div",{className:kt.a["info-column"]},o.a.createElement("div",{className:"".concat(ot.a["canvas-container"]," ").concat(ot.a["canvas-container__dark"]," ").concat(kt.a.info)},o.a.createElement("div",null,"Level: ".concat(e)),o.a.createElement("div",null,"Score: ".concat(n)),o.a.createElement("div",null,"Lines: ".concat(a)),o.a.createElement("div",null,"Time: ".concat(l))),o.a.createElement(ut,null))}));function xt(){return o.a.createElement("div",{className:l.a["display-container"]},o.a.createElement(ct,null),o.a.createElement(Pt,null))}function Rt(t){var e,n,o=t.targetKey,a=t.callback,c=t.continious,i=void 0!==c&&c,u=t.frequency,s=void 0===u?100:u,l=t.targetButton,p=void 0!==l&&l,d=Object(r.useState)(!1),v=Object(f.a)(d,2),b=v[0],g=v[1],O=function(t){var e=t.key;o&&e&&e.toLowerCase()===o.toLowerCase()?(t.preventDefault(),g(!0)):p&&"mousedown"===t.type&&p.current.contains(t.target)&&g(!0)},m=function(t){var e=t.key;o&&e&&e.toLowerCase()===o.toLowerCase()?g(!1):p&&"mouseup"===t.type&&p.current.contains(t.target)&&g(!1)};return Object(r.useEffect)((function(){return window.addEventListener("keydown",O),window.addEventListener("keyup",m),p&&(window.addEventListener("mousedown",O),window.addEventListener("mouseup",m)),function(){window.removeEventListener("keydown",O),window.removeEventListener("keydup",m),p&&(window.addEventListener("mousedown",O),window.addEventListener("mouseup",m))}}),[o]),Object(r.useEffect)((function(){if(a)return b&&a(),i&&(n=setTimeout((function(){return e=setInterval((function(){b&&i&&a()}),s)}),200)),function(){clearTimeout(n),clearInterval(e)}}),[b,i,200]),b}var Dt=n(3),Tt=n.n(Dt);function At(t){var e=t.style,n=t.text,r=t.pressed,a=t.onClick;return o.a.createElement("div",{style:e,className:"".concat(Tt.a["button-container"])},o.a.createElement("button",{className:"\n        ".concat(Tt.a["tetris-option-button"]," ").concat(Tt.a["tetris-option-button__dark"],"\n        ").concat(r&&Tt.a["tetris-option-button__active"]," ").concat(r&&Tt.a["tetris-option-button__dark__active"],"\n        "),onClick:a}),o.a.createElement("span",null,n))}var Mt=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),r=function(){return n(Et())},a=Rt({targetKey:"s",callback:r});return o.a.createElement(At,{style:e,onClick:r,pressed:a,text:"Start"})}));var Lt=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),r=function(){return n(wt())},a=Rt({targetKey:"p",callback:r});return o.a.createElement(At,{style:e,onClick:r,pressed:a,text:"Pause"})}));function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(n,!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var It="active-block/ROTATE",Wt="active-block/MOVE_RIGHT",Bt="active-block/MOVE_LEFT",Gt="active-block/MOVE_DOWN",Ut="active-block/SET_NEW_Tetrimino",Kt="active-block/LOCK",Ht="active-block/UNLOCK",Vt="active-block/DROP",zt="active-block/MOVE_LOCK",Jt="active-block/MOVE_UNLOCK",Xt=function(){return{type:Wt}},Yt=function(){return{type:Bt}},Zt=function(){return{type:Gt}},Ft=function(t){return{type:It,payload:t}},qt=function(){return{type:Ht}},Qt=function(){return{type:Vt}},$t=function(){return{type:zt}},te=function(){return{type:Jt}};var ee=Object(r.memo)((function(t){var e=t.style,n=t.onClick,r=t.btnRef,a=t.pressed,c=t.text;return o.a.createElement("div",{style:e,className:"".concat(Tt.a["button-container"])},o.a.createElement("button",{className:"\n        ".concat(Tt.a["tetris-button"]," ").concat(Tt.a["tetris-button__dark"],"\n        ").concat(a&&Tt.a["tetris-button__active"]," ").concat(a&&Tt.a["tetris-button__dark__active"],"\n        "),onClick:n,tabIndex:"-1",ref:r}),o.a.createElement("span",null,c))}));var ne=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),a=Object(r.useRef)(),c=Rt({targetKey:"ArrowLeft",callback:function(){return n(Yt())},continious:!0,targetButton:a});return o.a.createElement(ee,{style:e,btnRef:a,pressed:c,text:"Left"})}));var re=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),a=Object(r.useRef)(),c=Rt({targetKey:"ArrowRight",callback:function(){return n(Xt())},continious:!0,targetButton:a});return o.a.createElement(ee,{style:e,pressed:c,btnRef:a,text:"Right"})}));var oe=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),r=function(){return n(Ft())},a=Rt({targetKey:"ArrowUp",callback:r});return o.a.createElement(ee,{style:e,onClick:r,pressed:a,text:"Rotate"})}));var ae=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),a=Object(r.useRef)(),c=Rt({targetKey:"ArrowDown",callback:function(){return n(Zt())},continious:!0,frequency:75,targetButton:a});return Object(r.useEffect)((function(){n(c?$t():te())}),[n,c]),o.a.createElement(ee,{style:e,pressed:c,btnRef:a,text:"Down"})}));var ce=Object(r.memo)((function(t){var e=t.style,n=Object(J.b)(),r=function(){return n(Qt())},a=Rt({targetKey:" ",callback:r});return o.a.createElement(ee,{style:e,onClick:r,pressed:a,text:"Drop"})}));function ie(){return o.a.createElement("div",{className:Tt.a["buttons-container"]},o.a.createElement(Mt,{style:{gridArea:"start"}}),o.a.createElement(Lt,{style:{gridArea:"pause"}}),o.a.createElement(oe,{style:{gridArea:"start / start / rotate / rotate"}}),o.a.createElement(ne,{style:{gridArea:"left"}}),o.a.createElement(ae,{style:{gridArea:"down"}}),o.a.createElement(re,{style:{gridArea:"right"}}),o.a.createElement(ce,{style:{gridArea:"drop"}}))}function ue(){var t=Object(J.b)();return function(t){Object(r.useEffect)((function(){return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[t])}((function(){return t(jt())})),o.a.createElement("div",{className:"".concat(u.a["tetris-container"]," ").concat(u.a["tetris-container__dark"])},o.a.createElement(xt,null),o.a.createElement(ie,null))}var se=function(){return o.a.createElement(ue,null)},le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var pe=n(7);function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(n,!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var be={start:0,stop:0,current:0,running:!1};var ge=Object(pe.c)({activeBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case It:return r||t;case Bt:return Nt({},t,{position:[t.position[0]-1,t.position[1]]});case Wt:return Nt({},t,{position:[t.position[0]+1,t.position[1]]});case Gt:return Nt({},t,{position:[t.position[0],t.position[1]+1]});case Ut:return r;case ht:return C();case Kt:return Nt({},t,{locked:!0});case Ht:return Nt({},t,{locked:!1});case zt:return Nt({},t,{movementLocked:!0});case Jt:return Nt({},t,{movementLocked:!1});default:return t}},field:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case lt:var o=r.shape,a=r.position;return D(t,o,a);case"DESTROY_ROW":return r;case ht:return ft;default:return t}},nextBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case Ut:case ht:return C();default:return t}},gameState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.lines;switch(n){case bt:return vt({},_t,{status:"Running",lastAction:bt});case lt:return vt({},t,{score:t.score+10,lastAction:lt});case gt:return vt({},t,{status:v,lastAction:gt});case"ROWS_DESTROYED":var o=N(t.lines+r),a=I(o);return vt({},t,{lines:t.lines+r,score:M(vt({},t,{lines:r})),level:o,speed:a,lastAction:"ROWS_DESTROYED"});case Ot:return vt({},t,{status:O,lastAction:Ot});case mt:return vt({},t,{status:"Running",lastAction:mt});case ht:return vt({},_t,{status:"Running",lastAction:ht});default:return t}},timer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=(arguments.length>1?arguments[1]:void 0).type,n=new Array(2).fill(performance.now()),r=Object(f.a)(n,2),o=r[0],a=r[1];switch(e){case bt:return ve({},t,{start:o,stop:a,running:!0});case yt:return t.running?ve({},t,{stop:performance.now(),running:!1}):{current:t.stop-t.start+t.current,start:performance.now(),stop:performance.now(),running:!0};case ht:return ve({},t,{start:o,stop:a,running:!0});case gt:return ve({},t,{stop:performance.now(),running:!1});default:return t}},highScore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"NEW_HIGH_SCORE":return console.log("SCORES",r),t.concat(r).sort((function(t,e){return e-t})).slice(0,5);default:return t}}}),Oe=[bt,ht],me=[Bt,Wt,Gt,It];function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var ye=[function(t){return function(e){return function(n){var r=t.getState().gameState.status,o=n.type;return Oe.includes(o)?e(n):r===v||r===m||r===O&&o!==yt?void 0:e(n)}}},function(t){return function(e){return function(n){if(n.type===yt){var r=t.getState().gameState.status;if(r===O)return e({type:mt});if("Running"===r)return e(jt())}return e(n)}}},function(t){return function(e){return function(n){var r=function(){return e(Zt())},o=n.type,a=tt(t.getState());switch(o){case ht:return B.set(r,a),e(n);case Ot:return B.pause(r),e(n);case mt:return B.resume(r),e(n);case gt:case zt:return B.clear(r),e(n);case Jt:return B.set(r,a),e(n);case"ROWS_DESTROYED":var c=tt(t.getState());e(n);var i=tt(t.getState());c!==i&&(B.clear(r),B.set(r,i));break;default:return e(n)}}}},function(t){return function(e){return function(n){var r,o=function(){return t.getState().activeBlock},a=function(){return t.getState().field};switch(n.type){case Bt:(function(t,e){for(var n=e.shape,r=e.position,o=Object(f.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+S(n)<=0||t[i+c]&&t[i+c][u+a-1]))return!1;return!0})(a(),o())&&e(n);break;case Wt:(function(t,e){for(var n=e.shape,r=e.position,o=Object(f.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+k(n)>=9||t[i+c]&&t[i+c][u+a+1]))return!1;return!0})(a(),o())&&e(n);break;case Gt:if((r=o()).locked)return;return e(n);case Vt:r=o();var c=a(),i=H(c,r);return e(pt(i));case It:e(Ft(function(t,e){var n,r=e.shape,o=e.position,a=e.locked,c={shape:(n=r,function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))}(n.slice().reverse())),position:o,locked:a},i=Math.floor(r.length/2);if(!T(t,c))return c;for(var u=Math.PI/2;u<=2*Math.PI;u*=2)for(var s=Math.floor(Math.cos(u)),l=s;0!==l&&Math.abs(l)<=i;l+=s)if(c=j({},c,{position:[o[0]+l,o[1]]}),!T(t,c))return c;return e}(a(),o())));break;default:return e(n)}}}},function(t){return function(e){return function(n){var r=n.type;if(!me.includes(r))return e(n);e(n);var o=t.getState().activeBlock,a=o.locked,c=t.getState().field,i=x(c,o);a&&i&&e(qt()),a||i||e({type:Kt})}}},function(t){return function(e){return function(n){var r=n.type,o=t.getState().nextBlock,a=function(){t.dispatch(pt(t.getState().activeBlock))};switch(r){case Kt:return W.set(a,500),e(n);case Ht:return W.clear(a),e(n);case yt:if(t.getState().gameState.status===O)W.resume(a);else"Running"===t.getState().gameState.status&&W.pause(a);return e(n);case Ot:return W.pause(a),e(n);case mt:return W.resume(a),e(n);case lt:var c=n.payload,i=t.getState().field;if(x(i,c))return e(qt());e(n);var u=function(t){var e=A(t);t=t.map((function(e,n){return(r=e)&&r.length===r.filter((function(t){return t})).length?new Array(t[n].length).fill(0):e;var r})).sort((function(t){return t.filter((function(t){return t})).length?0:-1}));var n=A(t);return{matrix:t,rows:e-n}}(t.getState().field),s=u.matrix,l=u.rows;return e(function(t){return{type:"DESTROY_ROW",payload:t}}(s)),l>0&&t.dispatch({type:"ROWS_DESTROYED",lines:l}),t.dispatch(function(t){return{type:Ut,payload:t}}(o));case Ut:var f=t.getState();if(T(f.field,f.nextBlock)){var p=F(f);return q(f).reduce((function(t,e){return t||e<p}),!1)&&(e(function(t){return{type:"NEW_HIGH_SCORE",payload:t}}(p)),console.log("NEW SCORES",q(t.getState())),function(t){var e=JSON.stringify(t);localStorage.setItem("highScore",e)}(q(t.getState()))),t.dispatch({type:gt})}e(n);break;default:return e(n)}}}}],_e=function(){try{var t=localStorage.getItem("highScore");return null===t?[0,0,0,0,0]:JSON.parse(t)}catch(e){return[0,0,0,0,0]}}(),we=pe.a.apply(void 0,ye),Ee=(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(pe.e)(ge,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(n,!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ge,{highScore:_e}),we)),je=Ee;window.store=Ee,c.a.render(o.a.createElement(J.a,{store:je},o.a.createElement(se,null)),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/tetris",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/tetris","/service-worker.js");le?(!function(t,e){fetch(t).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):fe(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):fe(e,t)}))}}()}],[[19,1,2]]]);
//# sourceMappingURL=main.c1d46914.chunk.js.map
(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],[,,,function(t,e,n){t.exports={"buttons-container":"button_buttons-container__1955V","button-container":"button_button-container__39fQB","tetris-button":"button_tetris-button__eItG2","tetris-option-button":"button_tetris-option-button__3Kl3U","tetris-button__active":"button_tetris-button__active__26vlf","tetris-option-button__active":"button_tetris-option-button__active__1vvTZ","tetris-button__dark":"button_tetris-button__dark__2RK1f","tetris-button__dark__active":"button_tetris-button__dark__active__1fMOD","tetris-option-button__dark":"button_tetris-option-button__dark__1HGSl","tetris-option-button__dark__active":"button_tetris-option-button__dark__active__W25rR"}},,function(t,e,n){t.exports={"canvas-container":"field_canvas-container__1U1ww","canvas-container__dark":"field_canvas-container__dark__2GoQP","canvas-container__light":"field_canvas-container__light__25KvA",text:"field_text__504n6"}},,,,,,,function(t,e,n){t.exports={"tetris-container":"game_tetris-container__2gHB5","tetris-container__light":"game_tetris-container__light__11ybi","tetris-container__dark":"game_tetris-container__dark__3bHhN"}},,,function(t,e,n){t.exports={"info-column":"info_info-column__2XUG0",info:"info_info__3GloF"}},,function(t,e,n){t.exports={"display-container":"display_display-container__NotnD"}},,function(t,e,n){t.exports=n(31)},,,,,function(t,e,n){},function(t,e,n){},,,,,,function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(10),c=n.n(a),i=(n(24),n(25),n(12)),u=n.n(i),s=n(17),l=n.n(s),f=n(1),d=n(4),p=n(2),v=n(8),b={I:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],J:[[0,2,0],[0,2,0],[2,2,0]],L:[[0,3,0],[0,3,0],[0,3,3]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0],[0,0,0]],T:[[0,0,0],[6,6,6],[0,6,0]],Z:[[7,7,0],[0,7,7],[0,0,0]]},g=["rgba(255, 255, 255, 1)","rgba(0, 243, 255, 1)","rgba(0, 90, 255, 1)","rgba(255, 118, 0, 1)","rgba(255, 247, 0, 1)","rgba(0, 255, 102, 1)","rgba(133, 0, 255, 1)","rgba(255, 0, 0, 1)"],h="GAME OVER",O=4,_={I:[3,O-4],J:[3,O-3],L:[3,O-3],O:[4,O-2],S:[3,O-3],T:[3,O-3],Z:[3,O-3]},y="GAME_PAUSED",m="NOT_STARTED",E={shape:b.I,position:_.I},w=window.devicePixelRatio;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(t){return Math.min.apply(Math,Object(v.a)(t.map((function(t){return~(e=t).findIndex((function(t){return t}))?e.findIndex((function(t){return t})):e.length-1;var e}))))},x=function(t){return Math.max.apply(Math,Object(v.a)(t.map((function(t){return t.reduce((function(t,e,n){return e?n:t}),0)}))))},R=function(t){return Math.max.apply(Math,Object(v.a)(t.map((function(t,e){return t.reduce((function(t,n){return n?e:t}),0)}))))},P=function(t,e){for(var n=e.shape,r=e.position,o=Object(p.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(c+R(n)>=19+O||t[i+c+1]&&t[i+c+1][u+a]))return!1;return!0},T=function(t,e,n){return t>e&&t<n},D=function(t,e,n){return t.map((function(t,r){return t.map((function(t,o){return T(r,n[1]-1,n[1]+e.length)&&T(o,n[0]-1,n[0]+e[r-n[1]].length)&&e[r-n[1]][o-n[0]]?e[r-n[1]][o-n[0]]:t}))}))},A=function(t,e){for(var n=e.shape,r=e.position,o=Object(p.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+j(n)<0||a+x(n)>9||c+R(n)>=20+O||t[i+c]&&t[i+c][u+a]))return!0;return!1},M=function(t){return t.reduce((function(t,e){return e.filter((function(t){return t})).length?++t:t}),0)},L=function(t){var e=t.score,n=t.level;switch(t.lines){case 1:return e+40*(n+1);case 2:return e+100*(n+1);case 3:return e+300*(n+1);case 4:return e+1200*(n+1);default:return e}},I=function(){return Object(v.a)("IJLOSTZ").sort((function(){return Math.round(2*Math.random()-1)}))},N=function(){var t=0,e=I();return function(){var n=e[t];return++t>6&&(t=0,e=I()),{shape:b[n],position:_[n],locked:!1}}}(),B=function(t){return Math.min(Math.ceil(t/10),15)},G=function(t){return Math.round(1e3*Math.pow(.8-.007*(t-1),t-1)*1e5)/1e5},W=function(){var t={},e={},n=function(n,o){r(n),t[n]=setTimeout(n,o),e[n]={start:(new Date).getTime(),paused:!1,wait:o}},r=function(n){t[n]&&(clearTimeout(t[n]),delete t[n],delete e[n])},o=function(n){return t[n]&&e[n]&&e[n].paused};return{set:n,clear:r,pause:function(n){if(t[n]&&!o(n)){clearTimeout(t[n]);var r=(new Date).getTime(),a=e[n].wait-(r-e[n].start);e[n]={start:r,wait:a,paused:!0}}},resume:function(r){t[r]&&o(r)&&n(r,e[r].wait)}}}(),C=function(){var t={},e={},n={},r=function(n,r){o(n),t[n]=setInterval((function(){n(),e[n]={start:(new Date).getTime(),paused:!1,ms:r,wait:0}}),r),e[n]={start:(new Date).getTime(),paused:!1,ms:r,wait:0}},o=function(r){t[r]&&(clearInterval(t[r]),clearTimeout(n[r]),delete t[r],delete e[r])},a=function(n){return t[n]&&e[n]&&e[n].paused};return{set:r,clear:o,pause:function(r){if(t[r]&&!a(r)){clearInterval(t[r]),clearTimeout(n[r]);var o=(new Date).getTime(),c=e[r].ms-(o-e[r].start);e[r]=k({},e[r],{start:o,wait:c,paused:!0})}},resume:function(o){t[o]&&a(o)&&(n[o]=setTimeout((function(){o(),r(o,e[o].ms)}),e[o].wait))}}}(),U=function(t){return g[t.reduce((function(t,e){return t||e.reduce((function(t,e){return e||t}),0)}),0)]},K=function(t,e){return t.split("(").map((function(t,n){return n?t.split(", ").map((function(t,n,r){return n<r.length-1?Math.max(Math.min(255,Math.floor(t*(100-e)/100)),0):t})).join(", "):t})).join("(")},H=function(t,e){return t.split("(").map((function(t,n){return n?t.split(", ").map((function(t,n,r){return n<r.length-1?Math.max(Math.min(255,Math.floor((255-t)*e/100+ +t)),0):t})).join(", "):t})).join("(")},z=function(t,e){for(;P(t,e);){var n=e.position;e=k({},e,{position:[n[0],n[1]+1]})}return e},V="undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile"),J=function(t){return"".concat(Math.floor(t/60),":").concat(("0"+Math.floor(t%60)).slice(-2))},Y=function(t){return t.activeBlock},X=function(t){return t.field},Z=function(t){return t.gameState.level},F=function(t){return t.gameState.score},q=function(t){return t.highScore},Q=function(t){return t.gameState.lines},$=function(t){return t.gameState},tt=function(t){return $(t).speed},et=function(t){return t.nextBlock},nt=function(t){return z(X(t),Y(t))},rt=n(5),ot=n.n(rt);function at(t){var e=t.ctx,n=t.size,r=t.position,o=t.color,a=t.text,c=t.ratio,i=void 0===c?1:c,u=Object(p.a)(r,2),s=u[0],l=u[1];e.textAlign="center",e.lineWidth=3*i,e.font="".concat(n*i,"px monospace"),e.strikeStyle="black",e.strokeText(a,s,l,190*i),e.fillStyle=o,e.fillText(a,s,l,190*i)}function ct(t,e){var n=t.width,a=t.height,c=n*w,i=a*w,u=Object(r.useRef)(null),s=u.current,l=s&&s.getContext("2d");return Object(r.useEffect)((function(){l&&l.clearRect(0,0,c,i)}),Object(v.a)(e)),{canvas:o.a.createElement("canvas",{ref:u,width:c,height:i,style:{width:c/w,height:i/w}}),ctx:l,ratio:w}}function it(t){var e=t.ctx,n=t.side,r=t.position,o=t.color,a=t.locked,c=void 0!==a&&a,i=t.ghost,u=void 0!==i&&i,s=t.ratio,l=void 0===s?1:s,f=Object(p.a)(r,2),d=f[0],v=f[1];if(u)e.beginPath(),e.strokeStyle="#858fa5",e.lineWidth=2*l,e.rect(d+2*l,v+2*l,n-4*l,n-4*l),e.stroke(),e.closePath();else{var b=e.createLinearGradient(d,v,d+n,v+n),g=c?H(o,75):o,h=c?H(o,25):K(o,35);b.addColorStop(0,g),b.addColorStop(.5,g),b.addColorStop(.5,h),b.addColorStop(1,h),e.beginPath(),e.fillStyle=b,e.fillRect(d+1*l,v+1*l,n-2*l,n-2*l),e.closePath()}}function ut(t){var e=t.block,n=t.ctx,r=t.side,o=t.startingRow,a=void 0===o?O:o,c=t.offset,i=void 0===c?[0,0]:c,u=t.ghost,s=void 0!==u&&u,l=t.ratio,f=void 0===l?1:l;if(e){var d=e.shape,v=e.position,b=e.locked,g=Object(p.a)(v,2),h=g[0],_=g[1],y=U(d);d.forEach((function(t,e){return t.forEach((function(t,o){if(t){var c=[h*r+o*r+i[0],_*r+(e-a)*r+i[1]];it({ctx:n,side:r,position:c,color:y,locked:b,ghost:s,ratio:f})}}))}))}}function st(t){var e=t.field,n=t.ctx,r=t.side,o=t.ratio,a=t.block,c=t.ghostBlock;!function(t){var e=t.field,n=t.ctx,r=t.side,o=t.ratio;e.forEach((function(t,a){a>O-1&&t.forEach((function(t,c){if(t){var i=[c*r,(a-O)*r],u=g[e[a][c]];it({ctx:n,side:r,position:i,color:u,ratio:o})}}))}))}({field:e,ctx:n,side:r,ratio:o}),ut({ratio:o,block:c,ctx:n,side:r,ghost:!0}),ut({ratio:o,block:a,ctx:n,side:r})}function lt(){var t=Object(f.c)((function(t){return{block:Y(t),field:X(t),ghostBlock:nt(t),gameState:$(t),highScore:q(t),score:F(t)}})),e=t.block,n=t.field,a=t.ghostBlock,c=t.gameState,i=t.highScore,u=t.score,s=c.status,l=ct({width:200,height:400},[e,n,s]),d=l.canvas,p=l.ctx,v=l.ratio;return Object(r.useEffect)((function(){if(p){var t=20*v,r=[n[0].length*t/2,(n.length-O-5)/2*t],o=[n[0].length*t/2,(n.length-O)/2*t];switch(s){case m:!function(t){var e=t.highScore,n=void 0===e?[]:e,r=t.ctx,o=t.color,a=t.position,c=t.ratio,i=t.size;n.reduce((function(t,e,n){return e?t.concat(at({ctx:r,size:i,position:[a[0],a[1]+30*c*(n+2)],color:o,text:"".concat(n+1,": ").concat(e),ratio:c})):t}),[]).length?(at({ratio:c,ctx:r,size:30,position:a,color:o,text:"PRESS START"}),at({ctx:r,size:20,position:[a[0],a[1]+30*c],color:o,text:"HIGH SCORES:",ratio:c})):at({ratio:c,ctx:r,size:30,position:[a[0],a[1]+50*c],color:o,text:"PRESS START"})}({highScore:i,ctx:p,size:20,position:r,color:"#eaeaea",ratio:v});break;case y:at({ratio:v,ctx:p,size:30,position:o,color:"#eaeaea",text:"PAUSED"});break;case h:!function(t){var e=t.ctx,n=t.side,r=t.ratio,o=t.block,a=t.ghostBlock,c=t.color,i=t.position,u=t.highScore,s=void 0!==u&&u;st({ctx:e,side:n,ratio:r,block:o,ghostBlock:a,field:t.field}),s?(at({ratio:r,ctx:e,size:30,position:i,color:c,text:"GAME OVER"}),at({ratio:r,ctx:e,size:30,position:[i[0],i[1]+40*r],color:c,text:"NEW"}),at({ratio:r,ctx:e,size:30,position:[i[0],i[1]+80*r],color:c,text:"HIGH SCORE!"})):at({ratio:r,ctx:e,size:30,position:[i[0],i[1]+60*r],color:c,text:"GAME OVER"})}({ctx:p,side:t,ratio:v,block:e,ghostBlock:a,highScore:i.includes(u),position:r,field:n,color:"#eaeaea"});break;default:st({ctx:p,side:t,ratio:v,field:n,block:e,ghostBlock:a})}}}),[e,n,s,i,p,v,a,u]),o.a.createElement("div",{className:"".concat(ot.a["canvas-container"]," ").concat(ot.a["canvas-container__dark"]),style:{maxHeight:400}},d)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var dt=Object(r.memo)((function(){var t=Object(f.c)((function(t){return et(t)})),e=ct({width:100,height:100},[t]),n=e.canvas,a=e.ctx,c=e.ratio;return Object(r.useEffect)((function(){if(a){var e=t.shape,n=20*c,r=Math.floor((100*c-e[0].length*n)/2),o=Math.floor((100*c-e.length*n)/2);ut({block:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(n,!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{position:[0,0]}),ctx:a,side:n,ratio:c,offset:[r,o],startingRow:0})}}),[t,a,c]),o.a.createElement("div",{className:"".concat(ot.a["canvas-container"]," ").concat(ot.a["canvas-container__dark"])},o.a.createElement("div",{className:ot.a.text},"Next block"),n)})),pt=function(){return(new Date).getTime()};var vt="MERGE",bt=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],gt=function(t){return{type:vt,payload:t}};function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(n,!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _t="START",yt="DEFEAT",mt="PAUSE",Et="RESUME",wt="RESET",St={status:m,lastAction:null,level:1,score:0,lines:0,speed:1e3},kt=function(){return{type:"TOGGLE_PAUSE"}},jt=function(){return{type:wt}},xt=function(){return{type:mt}},Rt=n(15),Pt=n.n(Rt);var Tt=function(){var t=Object(f.c)((function(t){return{level:Z(t),score:F(t),lines:Q(t),gameState:$(t)}})),e=t.level,n=t.score,a=t.lines,c=t.gameState,i=c.lastAction,u=Object(r.useState)(0),s=Object(p.a)(u,2),l=s[0],d=s[1],v=function(t,e){var n=Object(r.useState)(0),o=Object(p.a)(n,2),a=o[0],c=o[1],i=Object(r.useState)(pt()),u=Object(p.a)(i,2),s=u[0],l=u[1],f=Object(r.useState)(!0),d=Object(p.a)(f,2),v=d[0],b=d[1],g=Object(r.useRef)();return Object(r.useEffect)((function(){g.current=t}),[t]),Object(r.useEffect)((function(){var t=setInterval((function(){g.current(),c(0),l(pt())}),a||e);return v&&clearInterval(t),function(){clearInterval(t)}}),[e,v,a]),{start:function(){l(pt()),b(!1)},pause:function(){b(!0),c(e-(pt()-s)),l(pt())},resume:function(){v&&(b(!1),l(pt()))},reset:function(){b(!1),c(e),l(pt())}}}(Object(r.useCallback)((function(){d((function(t){return t+1}))}),[]),1e3),b=v.start,g=v.pause,h=v.resume,O=v.reset;return Object(r.useEffect)((function(){i===_t&&b(),i===wt&&(O(),d(0)),i!==mt&&i!==yt||g(),i===Et&&h()}),[c]),o.a.createElement("div",{className:Pt.a["info-column"]},o.a.createElement("div",{className:"".concat(ot.a["canvas-container"]," ").concat(ot.a["canvas-container__dark"]," ").concat(Pt.a.info)},o.a.createElement("div",null,"Level: ".concat(e)),o.a.createElement("div",null,"Score: ".concat(n)),o.a.createElement("div",null,"Lines: ".concat(a)),o.a.createElement("div",null,"Time: ".concat(J(l)))),o.a.createElement(dt,null))};function Dt(){return o.a.createElement("div",{className:l.a["display-container"]},o.a.createElement(lt,null),o.a.createElement(Tt,null))}var At=V?"touchend":"mouseup",Mt=V?"touchstart":"mousedown",Lt=function(t,e){return t&&e&&e.toLowerCase()===t.toLowerCase()},It=function(t,e,n){return t&&e.type===n&&t.current.contains(e.target)};function Nt(t){var e,n,o=t.targetKey,a=t.callback,c=t.continious,i=void 0!==c&&c,u=t.targetButton,s=void 0!==u&&u,l=t.frequency,f=void 0===l?100:l,d=t.delay,v=void 0===d?200:d,b=Object(r.useState)(!1),g=Object(p.a)(b,2),h=g[0],O=g[1],_=function(t){var e=t.key;(Lt(o,e)||It(s,t,Mt))&&(t.preventDefault(),O(!0))},y=function(t){var e=t.key;(Lt(o,e)||It(s,t,At))&&(t.preventDefault(),O(!1))};return Object(r.useEffect)((function(){return window.addEventListener("keydown",_),window.addEventListener("keyup",y),s&&(window.addEventListener(Mt,_),window.addEventListener(At,y)),function(){window.removeEventListener("keydown",_),window.removeEventListener("keydup",y),s&&(window.addEventListener(Mt,_),window.addEventListener(At,y))}}),[o]),Object(r.useEffect)((function(){if(a)return h&&a(),i&&(n=setTimeout((function(){return e=setInterval((function(){h&&i&&a()}),f)}),v)),function(){clearTimeout(n),clearInterval(e)}}),[h,i,v]),h}var Bt=n(3),Gt=n.n(Bt);function Wt(t){var e=t.style,n=t.text,r=t.pressed,a=t.btnRef;return o.a.createElement("div",{style:e,className:"".concat(Gt.a["button-container"])},o.a.createElement("button",{className:"\n        ".concat(Gt.a["tetris-option-button"]," ").concat(Gt.a["tetris-option-button__dark"],"\n        ").concat(r&&Gt.a["tetris-option-button__active"]," ").concat(r&&Gt.a["tetris-option-button__dark__active"],"\n        "),ref:a}),o.a.createElement("div",null,n))}var Ct=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:"s",callback:function(){return n(jt())},targetButton:a});return o.a.createElement(Wt,{style:e,btnRef:a,pressed:c,text:"Start"})};var Ut=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:"p",callback:function(){return n(kt())},targetButton:a});return o.a.createElement(Wt,{style:e,btnRef:a,pressed:c,text:"Pause"})};function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(n,!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zt="active-block/ROTATE",Vt="active-block/MOVE_RIGHT",Jt="active-block/MOVE_LEFT",Yt="active-block/MOVE_DOWN",Xt="active-block/SET_NEW_TETRIMINO",Zt="active-block/LOCK",Ft="active-block/UNLOCK",qt="active-block/DROP",Qt="active-block/MOVE_LOCK",$t="active-block/MOVE_UNLOCK",te=function(){return{type:Vt}},ee=function(){return{type:Jt}},ne=function(){return{type:Yt}},re=function(t){return{type:zt,payload:t}},oe=function(){return{type:Ft}},ae=function(){return{type:qt}},ce=function(){return{type:Qt}},ie=function(){return{type:$t}};var ue=function(t){var e=t.style,n=t.btnRef,r=t.pressed,a=t.text;return o.a.createElement("div",{style:e,className:"".concat(Gt.a["button-container"]),ref:n},o.a.createElement("button",{className:"\n        ".concat(Gt.a["tetris-button"]," ").concat(Gt.a["tetris-button__dark"],"\n        ").concat(r&&Gt.a["tetris-button__active"]," ").concat(r&&Gt.a["tetris-button__dark__active"],"\n        "),tabIndex:"-1"}),o.a.createElement("span",null,a))};var se=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:"ArrowLeft",callback:function(){return n(ee())},continious:!0,targetButton:a});return o.a.createElement(ue,{style:e,btnRef:a,pressed:c,text:"Left"})};var le=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:"ArrowRight",callback:function(){return n(te())},continious:!0,targetButton:a});return o.a.createElement(ue,{style:e,pressed:c,btnRef:a,text:"Right"})};var fe=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:"ArrowUp",callback:function(){return n(re())},targetButton:a});return o.a.createElement(ue,{style:e,btnRef:a,pressed:c,text:"Rotate"})};var de=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:"ArrowDown",callback:function(){return n(ne())},continious:!0,frequency:75,targetButton:a});return Object(r.useEffect)((function(){n(c?ce():ie())}),[n,c]),o.a.createElement(ue,{style:e,pressed:c,btnRef:a,text:"Down"})};var pe=function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Nt({targetKey:" ",callback:function(){return n(ae())},targetButton:a});return o.a.createElement(ue,{style:e,btnRef:a,pressed:c,text:"Drop"})};function ve(){return o.a.createElement("div",{className:Gt.a["buttons-container"]},o.a.createElement(Ct,{style:{gridArea:"start"}}),o.a.createElement(Ut,{style:{gridArea:"pause"}}),o.a.createElement(fe,{style:{gridArea:"start / start / rotate / rotate"}}),o.a.createElement(se,{style:{gridArea:"left"}}),o.a.createElement(de,{style:{gridArea:"down"}}),o.a.createElement(le,{style:{gridArea:"right"}}),o.a.createElement(pe,{style:{gridArea:"drop"}}))}function be(){var t=Object(f.b)();return function(t){Object(r.useEffect)((function(){return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[t])}((function(){return t(xt())})),o.a.createElement("div",{className:"".concat(u.a["tetris-container"]," ").concat(u.a["tetris-container__dark"])},o.a.createElement(Dt,null),o.a.createElement(ve,null))}var ge=function(){return o.a.createElement(be,null)},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var _e=n(7),ye=Object(_e.c)({activeBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case zt:return r||t;case Jt:return Ht({},t,{position:[t.position[0]-1,t.position[1]]});case Vt:return Ht({},t,{position:[t.position[0]+1,t.position[1]]});case Yt:return Ht({},t,{position:[t.position[0],t.position[1]+1]});case Xt:return r;case wt:return N();case Zt:return Ht({},t,{locked:!0});case Ft:return Ht({},t,{locked:!1});case Qt:return Ht({},t,{movementLocked:!0});case $t:return Ht({},t,{movementLocked:!1});default:return t}},field:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case vt:var o=r.shape,a=r.position;return D(t,o,a);case"DESTROY_ROW":return r;case wt:return bt;default:return t}},nextBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case Xt:case wt:return N();default:return t}},gameState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.lines;switch(n){case _t:return Ot({},St,{status:"Running",lastAction:_t});case vt:return Ot({},t,{score:t.score+10,lastAction:vt});case yt:return Ot({},t,{status:h,lastAction:yt});case"ROWS_DESTROYED":var o=B(t.lines+r),a=G(o);return Ot({},t,{lines:t.lines+r,score:L(Ot({},t,{lines:r})),level:o,speed:a,lastAction:"ROWS_DESTROYED"});case mt:return Ot({},t,{status:y,lastAction:mt});case Et:return Ot({},t,{status:"Running",lastAction:Et});case wt:return Ot({},St,{status:"Running",lastAction:wt});default:return t}},highScore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"NEW_HIGH_SCORE":return t.concat(r).sort((function(t,e){return e-t})).slice(0,5);default:return t}}}),me=[_t,wt],Ee=[Jt,Vt,Yt,zt];function we(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Se=[function(t){return function(e){return function(n){var r=t.getState().gameState.status,o=n.type;return me.includes(o)?e(n):r===h||r===m||r===y&&"TOGGLE_PAUSE"!==o?void 0:e(n)}}},function(t){return function(e){return function(n){if("TOGGLE_PAUSE"===n.type){var r=t.getState().gameState.status;if(r===y)return e({type:Et});if("Running"===r)return e(xt())}return e(n)}}},function(t){return function(e){return function(n){var r=function(){return e(ne())};switch(n.type){case wt:e(n),C.set(r,tt(t.getState()));break;case mt:return C.pause(r),e(n);case Et:return C.resume(r),e(n);case yt:case Qt:return C.clear(r),e(n);case $t:return C.set(r,tt(t.getState())),e(n);case"ROWS_DESTROYED":var o=tt(t.getState());e(n);var a=tt(t.getState());o!==a&&(C.clear(r),C.set(r,a));break;default:return e(n)}}}},function(t){return function(e){return function(n){var r,o=function(){return t.getState().activeBlock},a=function(){return t.getState().field};switch(n.type){case Jt:(function(t,e){for(var n=e.shape,r=e.position,o=Object(p.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+j(n)<=0||t[i+c]&&t[i+c][u+a-1]))return!1;return!0})(a(),o())&&e(n);break;case Vt:(function(t,e){for(var n=e.shape,r=e.position,o=Object(p.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+x(n)>=9||t[i+c]&&t[i+c][u+a+1]))return!1;return!0})(a(),o())&&e(n);break;case Yt:if((r=o()).locked)return;return e(n);case qt:r=o();var c=a(),i=z(c,r);return e(gt(i));case zt:e(re(function(t,e){var n,r=e.shape,o=e.position,a=e.locked,c={shape:(n=r,function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))}(n.slice().reverse())),position:o,locked:a},i=Math.floor(r.length/2);if(!A(t,c))return c;for(var u=Math.PI/2;u<=2*Math.PI;u*=2)for(var s=Math.floor(Math.cos(u)),l=s;0!==l&&Math.abs(l)<=i;l+=s)if(c=k({},c,{position:[o[0]+l,o[1]]}),!A(t,c))return c;return e}(a(),o())));break;default:return e(n)}}}},function(t){return function(e){return function(n){var r=n.type;if(!Ee.includes(r))return e(n);e(n);var o=t.getState().activeBlock,a=o.locked,c=t.getState().field,i=P(c,o);a&&i&&e(oe()),a||i||e({type:Zt})}}},function(t){return function(e){return function(n){var r=n.type,o=t.getState().nextBlock,a=function(){t.dispatch(gt(t.getState().activeBlock))};switch(r){case Zt:return W.set(a,500),e(n);case Ft:return W.clear(a),e(n);case"TOGGLE_PAUSE":if(t.getState().gameState.status===y)W.resume(a);else"Running"===t.getState().gameState.status&&W.pause(a);return e(n);case mt:return W.pause(a),e(n);case Et:return W.resume(a),e(n);case vt:var c=n.payload,i=t.getState().field;if(P(i,c))return e(oe());e(n);var u=function(t){var e=M(t);t=t.map((function(e,n){return(r=e)&&r.length===r.filter((function(t){return t})).length?new Array(t[n].length).fill(0):e;var r})).sort((function(t){return t.filter((function(t){return t})).length?0:-1}));var n=M(t);return{matrix:t,rows:e-n}}(t.getState().field),s=u.matrix,l=u.rows;return e(function(t){return{type:"DESTROY_ROW",payload:t}}(s)),l>0&&t.dispatch({type:"ROWS_DESTROYED",lines:l}),t.dispatch(function(t){return{type:Xt,payload:t}}(o));case Xt:var f=t.getState();if(A(f.field,f.nextBlock)){var d=F(f);return q(f).reduce((function(t,e){return t||e<d}),!1)&&(e(function(t){return{type:"NEW_HIGH_SCORE",payload:t}}(d)),function(t){var e=JSON.stringify(t);localStorage.setItem("highScore",e)}(q(t.getState()))),e(oe()),t.dispatch({type:yt})}e(n);break;default:return e(n)}}}}],ke=function(){try{var t=localStorage.getItem("highScore");return null===t?[0,0,0,0,0]:JSON.parse(t)}catch(e){return[0,0,0,0,0]}}(),je=_e.a.apply(void 0,Se),xe=(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(_e.e)(ye,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?we(n,!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):we(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ye,{highScore:ke}),je)),Re=xe;window.store=xe,V&&document.addEventListener("touchend",(function(t){t.preventDefault()})),c.a.render(o.a.createElement(f.a,{store:Re},o.a.createElement(ge,null)),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/tetris",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/tetris","/service-worker.js");he?(!function(t,e){fetch(t).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Oe(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Oe(e,t)}))}}()}],[[19,1,2]]]);
//# sourceMappingURL=main.c28f658d.chunk.js.map
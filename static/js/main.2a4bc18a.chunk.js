(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],[,,,function(t,e,n){t.exports={"buttons-container":"button_buttons-container__1955V","button-container":"button_button-container__39fQB","tetris-button":"button_tetris-button__eItG2","tetris-option-button":"button_tetris-option-button__3Kl3U","tetris-button__active":"button_tetris-button__active__26vlf","tetris-option-button__active":"button_tetris-option-button__active__1vvTZ","tetris-button__dark":"button_tetris-button__dark__2RK1f","tetris-button__dark__active":"button_tetris-button__dark__active__1fMOD","tetris-option-button__dark":"button_tetris-option-button__dark__1HGSl","tetris-option-button__dark__active":"button_tetris-option-button__dark__active__W25rR"}},,function(t,e,n){t.exports={"canvas-container":"field_canvas-container__1U1ww","canvas-container__dark":"field_canvas-container__dark__2GoQP","canvas-container__light":"field_canvas-container__light__25KvA",text:"field_text__504n6"}},,,,,,,function(t,e,n){t.exports={"tetris-container":"game_tetris-container__2gHB5","tetris-container__light":"game_tetris-container__light__11ybi","tetris-container__dark":"game_tetris-container__dark__3bHhN"}},,,function(t,e,n){t.exports={"info-column":"info_info-column__2XUG0",info:"info_info__3GloF"}},,function(t,e,n){t.exports={"display-container":"display_display-container__NotnD"}},,function(t,e,n){t.exports=n(31)},,,,,function(t,e,n){},function(t,e,n){},,,,,,function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(10),c=n.n(a),i=(n(24),n(25),n(12)),u=n.n(i),s=n(17),l=n.n(s),f=n(1),p=n(4),d=n(2),v=n(8),b={I:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],J:[[0,2,0],[0,2,0],[2,2,0]],L:[[0,3,0],[0,3,0],[0,3,3]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0],[0,0,0]],T:[[0,0,0],[6,6,6],[0,6,0]],Z:[[7,7,0],[0,7,7],[0,0,0]]},g=["rgba(255, 255, 255, 1)","rgba(0, 243, 255, 1)","rgba(0, 90, 255, 1)","rgba(255, 118, 0, 1)","rgba(255, 247, 0, 1)","rgba(0, 255, 102, 1)","rgba(133, 0, 255, 1)","rgba(255, 0, 0, 1)"],h="GAME OVER",O=4,m={I:[3,O-4],J:[3,O-3],L:[3,O-3],O:[4,O-2],S:[3,O-3],T:[3,O-3],Z:[3,O-3]},_="GAME_PAUSED",y="NOT_STARTED",E={shape:b.I,position:m.I},w=window.devicePixelRatio;function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(n,!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S=function(t){return Math.min.apply(Math,Object(v.a)(t.map((function(t){return~(e=t).findIndex((function(t){return t}))?e.findIndex((function(t){return t})):e.length-1;var e}))))},x=function(t){return Math.max.apply(Math,Object(v.a)(t.map((function(t){return t.reduce((function(t,e,n){return e?n:t}),0)}))))},P=function(t){return Math.max.apply(Math,Object(v.a)(t.map((function(t,e){return t.reduce((function(t,n){return n?e:t}),0)}))))},R=function(t,e){for(var n=e.shape,r=e.position,o=Object(d.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(c+P(n)>=19+O||t[i+c+1]&&t[i+c+1][u+a]))return!1;return!0},T=function(t,e,n){return t>e&&t<n},D=function(t,e,n){return t.map((function(t,r){return t.map((function(t,o){return T(r,n[1]-1,n[1]+e.length)&&T(o,n[0]-1,n[0]+e[r-n[1]].length)&&e[r-n[1]][o-n[0]]?e[r-n[1]][o-n[0]]:t}))}))},A=function(t,e){for(var n=e.shape,r=e.position,o=Object(d.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+S(n)<0||a+x(n)>9||c+P(n)>=20+O||t[i+c]&&t[i+c][u+a]))return!0;return!1},M=function(t){return t.reduce((function(t,e){return e.filter((function(t){return t})).length?++t:t}),0)},L=function(t){var e=t.score,n=t.level;switch(t.lines){case 1:return e+40*(n+1);case 2:return e+100*(n+1);case 3:return e+300*(n+1);case 4:return e+1200*(n+1);default:return e}},I=function(){return Object(v.a)("IJLOSTZ").sort((function(){return Math.round(2*Math.random()-1)}))},N=function(){var t=0,e=I();return function(){var n=e[t];return++t>6&&(t=0,e=I()),{shape:b[n],position:m[n],locked:!1}}}(),C=function(t){return Math.min(Math.ceil(t/10),15)},B=function(t){return Math.round(1e3*Math.pow(.8-.007*(t-1),t-1)*1e5)/1e5},G=function(){var t={},e={},n=function(n,o){r(n),t[n]=setTimeout(n,o),e[n]={start:(new Date).getTime(),paused:!1,wait:o}},r=function(n){t[n]&&(clearTimeout(t[n]),delete t[n],delete e[n])},o=function(n){return t[n]&&e[n]&&e[n].paused};return{set:n,clear:r,pause:function(n){if(t[n]&&!o(n)){clearTimeout(t[n]);var r=(new Date).getTime(),a=e[n].wait-(r-e[n].start);e[n]={start:r,wait:a,paused:!0}}},resume:function(r){t[r]&&o(r)&&n(r,e[r].wait)}}}(),W=function(){var t={},e={},n={},r=function(n,r){o(n),t[n]=setInterval((function(){n(),e[n]={start:(new Date).getTime(),paused:!1,ms:r,wait:0}}),r),e[n]={start:(new Date).getTime(),paused:!1,ms:r,wait:0}},o=function(r){t[r]&&(clearInterval(t[r]),clearTimeout(n[r]),delete t[r],delete e[r])},a=function(n){return t[n]&&e[n]&&e[n].paused};return{set:r,clear:o,pause:function(r){if(t[r]&&!a(r)){clearInterval(t[r]),clearTimeout(n[r]);var o=(new Date).getTime(),c=e[r].ms-(o-e[r].start);e[r]=j({},e[r],{start:o,wait:c,paused:!0})}},resume:function(o){t[o]&&a(o)&&(n[o]=setTimeout((function(){o(),r(o,e[o].ms)}),e[o].wait))}}}(),U=function(t){return g[t.reduce((function(t,e){return t||e.reduce((function(t,e){return e||t}),0)}),0)]},K=function(t,e){return t.split("(").map((function(t,n){return n?t.split(", ").map((function(t,n,r){return n<r.length-1?Math.max(Math.min(255,Math.floor(t*(100-e)/100)),0):t})).join(", "):t})).join("(")},H=function(t,e){return t.split("(").map((function(t,n){return n?t.split(", ").map((function(t,n,r){return n<r.length-1?Math.max(Math.min(255,Math.floor((255-t)*e/100+ +t)),0):t})).join(", "):t})).join("(")},z=function(t,e){for(;R(t,e);){var n=e.position;e=j({},e,{position:[n[0],n[1]+1]})}return e},V="undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile"),J=function(t){return t.activeBlock},Y=function(t){return t.field},X=function(t){return t.gameState.level},Z=function(t){return t.gameState.score},F=function(t){return t.highScore},q=function(t){return t.gameState.lines},Q=function(t){return t.gameState},$=function(t){return Q(t).speed},tt=function(t){return t.nextBlock},et=function(t){return z(Y(t),J(t))},nt=n(5),rt=n.n(nt);function ot(t){var e=t.ctx,n=t.size,r=t.position,o=t.color,a=t.text,c=t.ratio,i=void 0===c?1:c,u=Object(d.a)(r,2),s=u[0],l=u[1];e.textAlign="center",e.lineWidth=3*i,e.font="".concat(n*i,"px monospace"),e.strikeStyle="black",e.strokeText(a,s,l,190*i),e.fillStyle=o,e.fillText(a,s,l,190*i)}function at(t,e){var n=t.width,a=t.height,c=n*w,i=a*w,u=Object(r.useRef)(null),s=u.current,l=s&&s.getContext("2d");return Object(r.useEffect)((function(){l&&l.clearRect(0,0,c,i)}),Object(v.a)(e)),{canvas:o.a.createElement("canvas",{ref:u,width:c,height:i,style:{width:c/w,height:i/w}}),ctx:l,ratio:w}}function ct(t){var e=t.ctx,n=t.side,r=t.position,o=t.color,a=t.locked,c=void 0!==a&&a,i=t.ghost,u=void 0!==i&&i,s=t.ratio,l=void 0===s?1:s,f=Object(d.a)(r,2),p=f[0],v=f[1];if(u)e.beginPath(),e.strokeStyle="#858fa5",e.lineWidth=2*l,e.rect(p+2*l,v+2*l,n-4*l,n-4*l),e.stroke(),e.closePath();else{var b=e.createLinearGradient(p,v,p+n,v+n),g=c?H(o,75):o,h=c?H(o,25):K(o,35);b.addColorStop(0,g),b.addColorStop(.5,g),b.addColorStop(.5,h),b.addColorStop(1,h),e.beginPath(),e.fillStyle=b,e.fillRect(p+1*l,v+1*l,n-2*l,n-2*l),e.closePath()}}function it(t){var e=t.block,n=t.ctx,r=t.side,o=t.startingRow,a=void 0===o?O:o,c=t.offset,i=void 0===c?[0,0]:c,u=t.ghost,s=void 0!==u&&u,l=t.ratio,f=void 0===l?1:l;if(e){var p=e.shape,v=e.position,b=e.locked,g=Object(d.a)(v,2),h=g[0],m=g[1],_=U(p);p.forEach((function(t,e){return t.forEach((function(t,o){if(t){var c=[h*r+o*r+i[0],m*r+(e-a)*r+i[1]];ct({ctx:n,side:r,position:c,color:_,locked:b,ghost:s,ratio:f})}}))}))}}function ut(t){var e=t.field,n=t.ctx,r=t.side,o=t.ratio,a=t.block,c=t.ghostBlock;!function(t){var e=t.field,n=t.ctx,r=t.side,o=t.ratio;e.forEach((function(t,a){a>O-1&&t.forEach((function(t,c){if(t){var i=[c*r,(a-O)*r],u=g[e[a][c]];ct({ctx:n,side:r,position:i,color:u,ratio:o})}}))}))}({field:e,ctx:n,side:r,ratio:o}),it({ratio:o,block:c,ctx:n,side:r,ghost:!0}),it({ratio:o,block:a,ctx:n,side:r})}function st(){var t=Object(f.c)((function(t){return{block:J(t),field:Y(t),ghostBlock:et(t),gameState:Q(t),highScore:F(t),score:Z(t)}})),e=t.block,n=t.field,a=t.ghostBlock,c=t.gameState,i=t.highScore,u=t.score,s=c.status,l=at({width:200,height:400},[e,n,s]),p=l.canvas,d=l.ctx,v=l.ratio;return Object(r.useEffect)((function(){if(d){var t=20*v,r=[n[0].length*t/2,(n.length-O-5)/2*t],o=[n[0].length*t/2,(n.length-O)/2*t];switch(s){case y:!function(t){var e=t.highScore,n=void 0===e?[]:e,r=t.ctx,o=t.color,a=t.position,c=t.ratio,i=t.size;n.reduce((function(t,e,n){return e?t.concat(ot({ctx:r,size:i,position:[a[0],a[1]+30*c*(n+2)],color:o,text:"".concat(n+1,": ").concat(e),ratio:c})):t}),[]).length?(ot({ratio:c,ctx:r,size:30,position:a,color:o,text:"PRESS START"}),ot({ctx:r,size:20,position:[a[0],a[1]+30*c],color:o,text:"HIGH SCORES:",ratio:c})):ot({ratio:c,ctx:r,size:30,position:[a[0],a[1]+50*c],color:o,text:"PRESS START"})}({highScore:i,ctx:d,size:20,position:r,color:"#eaeaea",ratio:v});break;case _:ot({ratio:v,ctx:d,size:30,position:o,color:"#eaeaea",text:"PAUSED"});break;case h:!function(t){var e=t.ctx,n=t.side,r=t.ratio,o=t.block,a=t.ghostBlock,c=t.color,i=t.position,u=t.highScore,s=void 0!==u&&u;ut({ctx:e,side:n,ratio:r,block:o,ghostBlock:a,field:t.field}),s?(ot({ratio:r,ctx:e,size:30,position:i,color:c,text:"GAME OVER"}),ot({ratio:r,ctx:e,size:30,position:[i[0],i[1]+40*r],color:c,text:"NEW"}),ot({ratio:r,ctx:e,size:30,position:[i[0],i[1]+80*r],color:c,text:"HIGH SCORE!"})):ot({ratio:r,ctx:e,size:30,position:[i[0],i[1]+60*r],color:c,text:"GAME OVER"})}({ctx:d,side:t,ratio:v,block:e,ghostBlock:a,highScore:i.includes(u),position:r,field:n,color:"#eaeaea"});break;default:ut({ctx:d,side:t,ratio:v,field:n,block:e,ghostBlock:a})}}}),[e,n,s,i,d,v,a,u]),o.a.createElement("div",{className:"".concat(rt.a["canvas-container"]," ").concat(rt.a["canvas-container__dark"]),style:{maxHeight:400}},p)}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var ft=Object(r.memo)((function(){var t=Object(f.c)((function(t){return tt(t)})),e=at({width:100,height:100},[t]),n=e.canvas,a=e.ctx,c=e.ratio;return Object(r.useEffect)((function(){if(a){var e=t.shape,n=20*c,r=Math.floor((100*c-e[0].length*n)/2),o=Math.floor((100*c-e.length*n)/2);it({block:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(n,!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{position:[0,0]}),ctx:a,side:n,ratio:c,offset:[r,o],startingRow:0})}}),[t,a,c]),o.a.createElement("div",{className:"".concat(rt.a["canvas-container"]," ").concat(rt.a["canvas-container__dark"])},o.a.createElement("div",{className:rt.a.text},"Next block"),n)})),pt=function(){return(new Date).getTime()};var dt="MERGE",vt=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],bt=function(t){return{type:dt,payload:t}};function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(n,!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ot="START",mt="DEFEAT",_t="PAUSE",yt="RESUME",Et="RESET",wt={status:y,lastAction:null,level:1,score:0,lines:0,speed:1e3},kt=function(){return{type:"TOGGLE_PAUSE"}},jt=function(){return{type:Et}},St=function(){return{type:_t}},xt=n(15),Pt=n.n(xt);var Rt=Object(r.memo)((function(){var t=Object(f.c)((function(t){return{level:X(t),score:Z(t),lines:q(t),gameState:Q(t)}})),e=t.level,n=t.score,a=t.lines,c=t.gameState,i=c.lastAction,u=Object(r.useState)(0),s=Object(d.a)(u,2),l=s[0],p=s[1],v=function(t,e){var n=Object(r.useState)(0),o=Object(d.a)(n,2),a=o[0],c=o[1],i=Object(r.useState)(pt()),u=Object(d.a)(i,2),s=u[0],l=u[1],f=Object(r.useState)(!0),p=Object(d.a)(f,2),v=p[0],b=p[1],g=Object(r.useRef)();return Object(r.useEffect)((function(){g.current=t}),[t]),Object(r.useEffect)((function(){var t=setInterval((function(){g.current(),c(0),l(pt())}),a||e);return v&&clearInterval(t),function(){clearInterval(t)}}),[e,v,a]),{start:function(){l(pt()),b(!1)},pause:function(){b(!0),c(e-(pt()-s)),l(pt())},resume:function(){v&&(b(!1),l(pt()))},reset:function(){b(!1),c(e),l(pt())}}}(Object(r.useCallback)((function(){p((function(t){return t+1}))}),[]),1e3),b=v.start,g=v.pause,h=v.resume,O=v.reset;return Object(r.useEffect)((function(){i===Ot&&b(),i===Et&&(O(),p(0)),i!==_t&&i!==mt||g(),i===yt&&h()}),[c]),o.a.createElement("div",{className:Pt.a["info-column"]},o.a.createElement("div",{className:"".concat(rt.a["canvas-container"]," ").concat(rt.a["canvas-container__dark"]," ").concat(Pt.a.info)},o.a.createElement("div",null,"Level: ".concat(e)),o.a.createElement("div",null,"Score: ".concat(n)),o.a.createElement("div",null,"Lines: ".concat(a)),o.a.createElement("div",null,"Time: ".concat(l))),o.a.createElement(ft,null))}));function Tt(){return o.a.createElement("div",{className:l.a["display-container"]},o.a.createElement(st,null),o.a.createElement(Rt,null))}function Dt(t){var e,n,o=t.targetKey,a=t.callback,c=t.continious,i=void 0!==c&&c,u=t.frequency,s=void 0===u?100:u,l=t.targetButton,f=void 0!==l&&l,p=Object(r.useState)(!1),v=Object(d.a)(p,2),b=v[0],g=v[1],h=V?"touchend":"mouseup",O=V?"touchstart":"mousedown",m=function(t){var e=t.key;o&&e&&e.toLowerCase()===o.toLowerCase()?(t.preventDefault(),g(!0)):f&&t.type===O&&f.current.contains(t.target)&&g(!0)},_=function(t){var e=t.key;o&&e&&e.toLowerCase()===o.toLowerCase()?g(!1):f&&t.type===h&&f.current.contains(t.target)&&g(!1)};return Object(r.useEffect)((function(){return window.addEventListener("keydown",m),window.addEventListener("keyup",_),f&&(window.addEventListener(O,m),window.addEventListener(h,_)),function(){window.removeEventListener("keydown",m),window.removeEventListener("keydup",_),f&&(window.addEventListener(O,m),window.addEventListener(h,_))}}),[o]),Object(r.useEffect)((function(){if(a)return b&&a(),i&&(n=setTimeout((function(){return e=setInterval((function(){b&&i&&a()}),s)}),200)),function(){clearTimeout(n),clearInterval(e)}}),[b,i,200]),b}var At=n(3),Mt=n.n(At);function Lt(t){var e=t.style,n=t.text,r=t.pressed,a=t.onClick;return o.a.createElement("div",{style:e,className:"".concat(Mt.a["button-container"])},o.a.createElement("button",{className:"\n        ".concat(Mt.a["tetris-option-button"]," ").concat(Mt.a["tetris-option-button__dark"],"\n        ").concat(r&&Mt.a["tetris-option-button__active"]," ").concat(r&&Mt.a["tetris-option-button__dark__active"],"\n        "),onClick:a}),o.a.createElement("span",null,n))}var It=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),r=function(){return n(jt())},a=Dt({targetKey:"s",callback:r});return o.a.createElement(Lt,{style:e,onClick:r,pressed:a,text:"Start"})}));var Nt=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),r=function(){return n(kt())},a=Dt({targetKey:"p",callback:r});return o.a.createElement(Lt,{style:e,onClick:r,pressed:a,text:"Pause"})}));function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(n,!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Gt="active-block/ROTATE",Wt="active-block/MOVE_RIGHT",Ut="active-block/MOVE_LEFT",Kt="active-block/MOVE_DOWN",Ht="active-block/SET_NEW_TETRIMINO",zt="active-block/LOCK",Vt="active-block/UNLOCK",Jt="active-block/DROP",Yt="active-block/MOVE_LOCK",Xt="active-block/MOVE_UNLOCK",Zt=function(){return{type:Wt}},Ft=function(){return{type:Ut}},qt=function(){return{type:Kt}},Qt=function(t){return{type:Gt,payload:t}},$t=function(){return{type:Vt}},te=function(){return{type:Jt}},ee=function(){return{type:Yt}},ne=function(){return{type:Xt}};var re=Object(r.memo)((function(t){var e=t.style,n=t.onClick,r=t.btnRef,a=t.pressed,c=t.text;return o.a.createElement("div",{style:e,className:"".concat(Mt.a["button-container"])},o.a.createElement("button",{className:"\n        ".concat(Mt.a["tetris-button"]," ").concat(Mt.a["tetris-button__dark"],"\n        ").concat(a&&Mt.a["tetris-button__active"]," ").concat(a&&Mt.a["tetris-button__dark__active"],"\n        "),onClick:n,tabIndex:"-1",ref:r}),o.a.createElement("span",null,c))}));var oe=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Dt({targetKey:"ArrowLeft",callback:function(){return n(Ft())},continious:!0,targetButton:a});return o.a.createElement(re,{style:e,btnRef:a,pressed:c,text:"Left"})}));var ae=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Dt({targetKey:"ArrowRight",callback:function(){return n(Zt())},continious:!0,targetButton:a});return o.a.createElement(re,{style:e,pressed:c,btnRef:a,text:"Right"})}));var ce=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),r=function(){return n(Qt())},a=Dt({targetKey:"ArrowUp",callback:r});return o.a.createElement(re,{style:e,onClick:r,pressed:a,text:"Rotate"})}));var ie=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),a=Object(r.useRef)(),c=Dt({targetKey:"ArrowDown",callback:function(){return n(qt())},continious:!0,frequency:75,targetButton:a});return Object(r.useEffect)((function(){n(c?ee():ne())}),[n,c]),o.a.createElement(re,{style:e,pressed:c,btnRef:a,text:"Down"})}));var ue=Object(r.memo)((function(t){var e=t.style,n=Object(f.b)(),r=function(){return n(te())},a=Dt({targetKey:" ",callback:r});return o.a.createElement(re,{style:e,onClick:r,pressed:a,text:"Drop"})}));function se(){return o.a.createElement("div",{className:Mt.a["buttons-container"]},o.a.createElement(It,{style:{gridArea:"start"}}),o.a.createElement(Nt,{style:{gridArea:"pause"}}),o.a.createElement(ce,{style:{gridArea:"start / start / rotate / rotate"}}),o.a.createElement(oe,{style:{gridArea:"left"}}),o.a.createElement(ie,{style:{gridArea:"down"}}),o.a.createElement(ae,{style:{gridArea:"right"}}),o.a.createElement(ue,{style:{gridArea:"drop"}}))}function le(){var t=Object(f.b)();return function(t){Object(r.useEffect)((function(){return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[t])}((function(){return t(St())})),o.a.createElement("div",{className:"".concat(u.a["tetris-container"]," ").concat(u.a["tetris-container__dark"])},o.a.createElement(Tt,null),o.a.createElement(se,null))}var fe=function(){return o.a.createElement(le,null)},pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var ve=n(7),be=Object(ve.c)({activeBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case Gt:return r||t;case Ut:return Bt({},t,{position:[t.position[0]-1,t.position[1]]});case Wt:return Bt({},t,{position:[t.position[0]+1,t.position[1]]});case Kt:return Bt({},t,{position:[t.position[0],t.position[1]+1]});case Ht:return r;case Et:return N();case zt:return Bt({},t,{locked:!0});case Vt:return Bt({},t,{locked:!1});case Yt:return Bt({},t,{movementLocked:!0});case Xt:return Bt({},t,{movementLocked:!1});default:return t}},field:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case dt:var o=r.shape,a=r.position;return D(t,o,a);case"DESTROY_ROW":return r;case Et:return vt;default:return t}},nextBlock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case Ht:case Et:return N();default:return t}},gameState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.lines;switch(n){case Ot:return ht({},wt,{status:"Running",lastAction:Ot});case dt:return ht({},t,{score:t.score+10,lastAction:dt});case mt:return ht({},t,{status:h,lastAction:mt});case"ROWS_DESTROYED":var o=C(t.lines+r),a=B(o);return ht({},t,{lines:t.lines+r,score:L(ht({},t,{lines:r})),level:o,speed:a,lastAction:"ROWS_DESTROYED"});case _t:return ht({},t,{status:_,lastAction:_t});case yt:return ht({},t,{status:"Running",lastAction:yt});case Et:return ht({},wt,{status:"Running",lastAction:Et});default:return t}},highScore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"NEW_HIGH_SCORE":return t.concat(r).sort((function(t,e){return e-t})).slice(0,5);default:return t}}}),ge=[Ot,Et],he=[Ut,Wt,Kt,Gt];function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var me=[function(t){return function(e){return function(n){var r=t.getState().gameState.status,o=n.type;return ge.includes(o)?e(n):r===h||r===y||r===_&&"TOGGLE_PAUSE"!==o?void 0:e(n)}}},function(t){return function(e){return function(n){if("TOGGLE_PAUSE"===n.type){var r=t.getState().gameState.status;if(r===_)return e({type:yt});if("Running"===r)return e(St())}return e(n)}}},function(t){return function(e){return function(n){var r=function(){return e(qt())};switch(n.type){case Et:e(n),W.set(r,$(t.getState()));break;case _t:return W.pause(r),e(n);case yt:return W.resume(r),e(n);case mt:case Yt:return W.clear(r),e(n);case Xt:return W.set(r,$(t.getState())),e(n);case"ROWS_DESTROYED":var o=$(t.getState());e(n);var a=$(t.getState());o!==a&&(W.clear(r),W.set(r,a));break;default:return e(n)}}}},function(t){return function(e){return function(n){var r,o=function(){return t.getState().activeBlock},a=function(){return t.getState().field};switch(n.type){case Ut:(function(t,e){for(var n=e.shape,r=e.position,o=Object(d.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+S(n)<=0||t[i+c]&&t[i+c][u+a-1]))return!1;return!0})(a(),o())&&e(n);break;case Wt:(function(t,e){for(var n=e.shape,r=e.position,o=Object(d.a)(r,2),a=o[0],c=o[1],i=0;i<n.length;i++)for(var u=0;u<n[i].length;u++)if(n[i][u]&&(a+x(n)>=9||t[i+c]&&t[i+c][u+a+1]))return!1;return!0})(a(),o())&&e(n);break;case Kt:if((r=o()).locked)return;return e(n);case Jt:r=o();var c=a(),i=z(c,r);return e(bt(i));case Gt:e(Qt(function(t,e){var n,r=e.shape,o=e.position,a=e.locked,c={shape:(n=r,function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))}(n.slice().reverse())),position:o,locked:a},i=Math.floor(r.length/2);if(!A(t,c))return c;for(var u=Math.PI/2;u<=2*Math.PI;u*=2)for(var s=Math.floor(Math.cos(u)),l=s;0!==l&&Math.abs(l)<=i;l+=s)if(c=j({},c,{position:[o[0]+l,o[1]]}),!A(t,c))return c;return e}(a(),o())));break;default:return e(n)}}}},function(t){return function(e){return function(n){var r=n.type;if(!he.includes(r))return e(n);e(n);var o=t.getState().activeBlock,a=o.locked,c=t.getState().field,i=R(c,o);a&&i&&e($t()),a||i||e({type:zt})}}},function(t){return function(e){return function(n){var r=n.type,o=t.getState().nextBlock,a=function(){t.dispatch(bt(t.getState().activeBlock))};switch(r){case zt:return G.set(a,500),e(n);case Vt:return G.clear(a),e(n);case"TOGGLE_PAUSE":if(t.getState().gameState.status===_)G.resume(a);else"Running"===t.getState().gameState.status&&G.pause(a);return e(n);case _t:return G.pause(a),e(n);case yt:return G.resume(a),e(n);case dt:var c=n.payload,i=t.getState().field;if(R(i,c))return e($t());e(n);var u=function(t){var e=M(t);t=t.map((function(e,n){return(r=e)&&r.length===r.filter((function(t){return t})).length?new Array(t[n].length).fill(0):e;var r})).sort((function(t){return t.filter((function(t){return t})).length?0:-1}));var n=M(t);return{matrix:t,rows:e-n}}(t.getState().field),s=u.matrix,l=u.rows;return e(function(t){return{type:"DESTROY_ROW",payload:t}}(s)),l>0&&t.dispatch({type:"ROWS_DESTROYED",lines:l}),t.dispatch(function(t){return{type:Ht,payload:t}}(o));case Ht:var f=t.getState();if(A(f.field,f.nextBlock)){var p=Z(f);return F(f).reduce((function(t,e){return t||e<p}),!1)&&(e(function(t){return{type:"NEW_HIGH_SCORE",payload:t}}(p)),function(t){var e=JSON.stringify(t);localStorage.setItem("highScore",e)}(F(t.getState()))),e($t()),t.dispatch({type:mt})}e(n);break;default:return e(n)}}}}],_e=function(){try{var t=localStorage.getItem("highScore");return null===t?[0,0,0,0,0]:JSON.parse(t)}catch(e){return[0,0,0,0,0]}}(),ye=ve.a.apply(void 0,me),Ee=(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(ve.e)(be,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(n,!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},be,{highScore:_e}),ye)),we=Ee;window.store=Ee,c.a.render(o.a.createElement(f.a,{store:we},o.a.createElement(fe,null)),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/tetris",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/tetris","/service-worker.js");pe?(!function(t,e){fetch(t).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):de(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(e,t)}))}}()}],[[19,1,2]]]);
//# sourceMappingURL=main.2a4bc18a.chunk.js.map